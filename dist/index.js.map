{"version":3,"sources":["../src/index.js"],"names":["module","exports","self","options","Object","assign","filter","match","pattern","key","test","include","some","exclude","getOwnPropertyNames","constructor","prototype","value","bind","excludedReactMethods","react","concat"],"mappings":"AAAA;AACAA,OAAOC,OAAP,GAAiB,UAACC,IAAD,EAAOC,OAAP,EAAmB;AACnCA,WAAUC,OAAOC,MAAP,CAAc,EAAd,EAAkBF,OAAlB,CAAV;;AAEA,KAAMG,SAAS,SAATA,MAAS,MAAO;AACrB,MAAMC,QAAQ,SAARA,KAAQ,kBAAW,OAAOC,OAAP,KAAmB,QAAnB,GAA8BC,QAAQD,OAAtC,GAAgDA,QAAQE,IAAR,CAAaD,GAAb,CAA3D,EAAd;;AAEA,MAAIN,QAAQQ,OAAZ,EAAqB;AACpB,UAAOR,QAAQQ,OAAR,CAAgBC,IAAhB,CAAqBL,KAArB,CAAP;AACA;;AAED,MAAIJ,QAAQU,OAAZ,EAAqB;AACpB,UAAO,CAACV,QAAQU,OAAR,CAAgBD,IAAhB,CAAqBL,KAArB,CAAR;AACA;;AAED,SAAO,IAAP;AACA,EAZD,CAHmC;;AAiBnC,uBAAkBH,OAAOU,mBAAP,CAA2BZ,KAAKa,WAAL,CAAiBC,SAA5C,CAAlB,8HAA0E,KAA/DP,GAA+D;AACzE,OAAMQ,QAAQf,KAAKO,GAAL,CAAd;;AAEA,OAAIA,QAAQ,aAAR,IAAyB,OAAOQ,KAAP,KAAiB,UAA1C,IAAwDX,OAAOG,GAAP,CAA5D,EAAyE;AACxEP,SAAKO,GAAL,IAAYQ,MAAMC,IAAN,CAAWhB,IAAX,CAAZ;AACA;AACD,GAvBkC;;AAyBnC,QAAOA,IAAP;AACA,CA1BD;;AA4BA,IAAMiB,uBAAuB;AAC5B,oBAD4B;AAE5B,2BAF4B;AAG5B,QAH4B;AAI5B,yBAJ4B;AAK5B,mBAL4B;AAM5B,2BAN4B;AAO5B,kCAP4B;AAQ5B,uBAR4B;AAS5B,qBAT4B;AAU5B,4BAV4B;AAW5B,oBAX4B;AAY5B,sBAZ4B;AAa5B,mBAb4B;AAc5B,UAd4B;AAe5B,aAf4B,CAA7B;;;AAkBAnB,OAAOC,OAAP,CAAemB,KAAf,GAAuB,UAAClB,IAAD,EAAOC,OAAP,EAAmB;AACzCA,WAAUC,OAAOC,MAAP,CAAc,EAAd,EAAkBF,OAAlB,CAAV;AACAA,SAAQU,OAAR,GAAkB,CAACV,QAAQU,OAAR,IAAmB,EAApB,EAAwBQ,MAAxB,CAA+BF,oBAA/B,CAAlB;AACA,QAAOnB,OAAOC,OAAP,CAAeC,IAAf,EAAqBC,OAArB,CAAP;AACA,CAJD","file":"index.js","sourcesContent":["'use strict';\nmodule.exports = (self, options) => {\n\toptions = Object.assign({}, options);\n\n\tconst filter = key => {\n\t\tconst match = pattern => typeof pattern === 'string' ? key === pattern : pattern.test(key);\n\n\t\tif (options.include) {\n\t\t\treturn options.include.some(match);\n\t\t}\n\n\t\tif (options.exclude) {\n\t\t\treturn !options.exclude.some(match);\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tfor (const key of Object.getOwnPropertyNames(self.constructor.prototype)) {\n\t\tconst value = self[key];\n\n\t\tif (key !== 'constructor' && typeof value === 'function' && filter(key)) {\n\t\t\tself[key] = value.bind(self);\n\t\t}\n\t}\n\n\treturn self;\n};\n\nconst excludedReactMethods = [\n\t'componentWillMount',\n\t'UNSAFE_componentWillMount',\n\t'render',\n\t'getSnapshotBeforeUpdate',\n\t'componentDidMount',\n\t'componentWillReceiveProps',\n\t'UNSAFE_componentWillReceiveProps',\n\t'shouldComponentUpdate',\n\t'componentWillUpdate',\n\t'UNSAFE_componentWillUpdate',\n\t'componentDidUpdate',\n\t'componentWillUnmount',\n\t'componentDidCatch',\n\t'setState',\n\t'forceUpdate'\n];\n\nmodule.exports.react = (self, options) => {\n\toptions = Object.assign({}, options);\n\toptions.exclude = (options.exclude || []).concat(excludedReactMethods);\n\treturn module.exports(self, options);\n};\n"]}